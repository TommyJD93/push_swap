NAME = push_swap

CC = gcc

CFLAGS = -Wall -Wextra -Werror -g

LIBFT_PATH = libft/

LIBFT_LIB = $(LIBFT_PATH)libft.a

PRINTF_PATH = ft_printf/

PRINTF_LIB = $(PRINTF_PATH)libftprintf.a

Y = "\033[33m"
R = "\033[31m"
G = "\033[32m"
B = "\033[34m"
X = "\033[0m"
UP = "\033[A"
CUT = "\033[K"

CFILES = push_swap.c checker.c converter.c utils.c alorithm/algo.c \
			alorithm/sorting_utils.c alorithm/sorting.c \

OBJECTS = $(CFILES:.c=.o)

all: libraries $(NAME)

%.o : %.c
	@echo $(Y)Compiling [$<]...$(X)
	@$(CC) $(CFLAGS) -Imlx -c -o $@ $<
	@printf $(UP)$(CUT)

libraries:
	@echo $(B)
	make -C $(LIBFT_PATH) all
	@echo $(B)
	make -C $(PRINTF_PATH) all

$(NAME): $(OBJECTS)
	@echo $(Y)Compiling [$(CFILES)]...$(X)
	@echo $(G)Finished [$(CFILES)]$(X)
	@echo
	@echo $(Y)Compiling [$(NAME)]...$(X)
	@$(CC) $(CFLAGS) $(LIBFT_LIB) $(PRINTF_LIB) $(OBJECTS) -o $(NAME)
	@echo $(G)Finished [$(NAME)]$(X)

clean:
	@make -C $(LIBFT_PATH) clean
	@rm -f $(OBJECTS)
	@echo $(R)Removed [$(OBJECTS)]$(X)

fclean: clean
	@make -C $(LIBFT_PATH) fclean
	@make -C $(PRINTF_PATH) fclean
	@rm -f $(NAME)
	@echo $(R)Removed [$(NAME)]$(X)

re: fclean all

norm:
	norminette libft ft_printf utils checker

run:	all
		@./push_swap 50 3 10 7 40 80 27 1
#50 3 10 7 40 80 27 1
#40 61 6 1 66 57 83 93 62 48 77 73 30 100 32 98 19 84 56 15 50 65 58 36 46 95 38 45 14 76 60 35 70 37 42 74 64 7 16 5 43 9 3 25 80 51 2 18 24 86 34 20 26 85 63 8 33 47 27 39 96 11 78 4 59 71 31 29 68 90 87 81 91 12 23 92 49 88 41 10 89 99 82 44 79 97 69 17 94 22 28 72 13 75 55 54 53 67 21 52
#403 203 342 21 321 418 135 182 340 432 417 242 472 130 82 70 106 313 408 137 280 210 75 67 405 406 80 140 239 209 246 435 117 297 375 55 425 18 24 257 187 101 420 233 398 320 234 25 194 263 120 392 204 221 353 285 440 5 107 305 192 19 350 198 362 468 29 482 32 401 48 291 216 57 269 381 445 17 370 165 206 85 43 139 424 143 386 36 103 35 304 402 77 254 248 495 261 227 429 332 211 113 169 359 433 208 136 481 452 319 383 37 141 84 323 200 116 443 493 284 63 142 52 469 47 222 253 158 303 81 88 14 369 500 487 196 166 10 464 404 11 329 415 104 325 349 441 485 93 68 459 153 270 289 295 451 437 395 388 41 364 167 33 466 94 438 475 15 42 360 28 119 8 38 365 251 125 189 87 149 322 184 179 241 199 255 31 411 1 23 256 448 60 20 310 368 212 434 278 393 162 455 311 230 61 450 377 366 499 292 422 34 494 40 379 396 181 170 72 59 442 71 97 317 348 64 2 219 496 412 343 65 378 456 296 132 474 488 16 290 301 218 147 197 486 274 275 90 58 281 497 3 390 99 195 231 354 273 484 471 357 306 407 13 460 190 276 490 54 282 454 145 89 175 458 22 236 173 346 148 351 431 249 45 380 163 439 185 244 155 121 98 327 66 109 91 300 226 100 50 237 134 6 339 361 83 307 264 152 428 224 344 347 111 154 176 465 387 372 271 293 413 337 74 352 250 96 491 272 223 112 7 453 259 39 279 131 436 374 95 214 102 416 122 382 446 178 266 76 51 389 73 124 328 146 426 385 53 4 355 27 421 26 391 457 336 252 159 312 46 397 489 331 326 480 193 309 161 238 168 247 371 115 338 245 180 151 409 324 314 49 335 299 232 294 330 478 318 427 110 358 240 207 160 123 225 79 333 144 267 260 164 156 444 470 462 129 191 114 376 171 302 172 373 430 105 473 183 400 127 399 201 133 186 265 334 228 12 220 30 477 69 356 262 126 108 467 384 316 56 447 205 128 492 394 268 298 367 423 483 157 118 86 217 363 287 449 243 283 235 498 215 213 277 150 463 476 92 410 345 188 229 414 9 461 177 258 288 308 286 419 138 202 174 44 341 479 78 315 62
.PHONY: all clean fclean re norm
